---
// При настройке prefixDefaultLocale: false эта страница не должна вызывать редирект
// Вместо этого просто импортируем и выводим тот же контент, что и на корневой странице
import MainLayout from '../../layouts/MainLayout.astro';
import HeroSection from '../../components/HeroSection.astro';
import ServiceCard from '../../components/ServiceCard.astro';
import ProjectShowcase from '../../components/ProjectShowcase.astro';
import AboutSection from '../../components/AboutSection.astro';
import ContactSection from '../../components/ContactSection.astro';

const lang = 'en';
const currentPath = Astro.url.pathname;

const services = [
  {
    title: "Web Development",
    description: "Modern, responsive websites built with the latest technologies.",
    icon: "code"
  },
  {
    title: "AI Solutions",
    description: "Custom AI integrations to enhance your business capabilities.",
    icon: "brain"
  },
  {
    title: "UI/UX Design",
    description: "Beautiful, intuitive interfaces designed for optimal user experience.",
    icon: "palette"
  }
];

const projects = [
  {
    title: "AI Content Platform",
    description: "A platform for generating and managing AI-assisted content.",
    image: "/images/project1.jpg",
    tags: ["React", "AI", "Node.js"]
  },
  {
    title: "E-commerce Redesign",
    description: "Complete redesign of an e-commerce website focusing on conversion.",
    image: "/images/project2.jpg",
    tags: ["Design", "Shopify", "UX"]
  },
  {
    title: "Real-time Analytics Dashboard",
    description: "Dashboard for monitoring and analyzing data in real-time.",
    image: "/images/project3.jpg",
    tags: ["Vue", "D3.js", "Firebase"]
  }
];
---

<MainLayout
  title="Azamat Galimzhanov | Web Development & AI Solutions"
  description="Professional web development and AI solutions by Azamat Galimzhanov"
  currentLanguage={lang}
  currentPath={currentPath}
  isOnePageLayout={true}
>
  <HeroSection
    title="Crafting Digital Experiences & AI Solutions"
    subtitle="We build modern websites and AI-powered applications that help businesses thrive in the digital age."
  />

  <section id="services" class="services">
    <div class="container">
      <h2 class="section-title">Our Services</h2>
      <div class="services-grid">
        {services.map(service => (
          <ServiceCard
            title={service.title}
            description={service.description}
            icon={service.icon}
            isOnePage={true}
          />
        ))}
      </div>
    </div>
  </section>

  <div class="parallax-divider parallax-services"></div>

  <section id="projects" class="projects">
    <div class="container">
      <h2 class="section-title">Featured Projects</h2>
      <div class="projects-grid">
        {projects.map(project => (
          <ProjectShowcase
            title={project.title}
            description={project.description}
            image={project.image}
            tags={project.tags}
            isOnePage={true}
          />
        ))}
      </div>
    </div>
  </section>

  <div class="parallax-divider parallax-projects"></div>

  <!-- Добавляем раздел About Us, который был на скриншоте -->
  <section id="about" class="about">
    <div class="container">
      <h2 class="section-title">About Us</h2>
      <div class="about-content">
        <div class="about-section">
          <h3>Who We Are</h3>
          <p>We are a team of passionate developers, designers, and AI specialists dedicated to creating exceptional digital experiences. With our expertise in cutting-edge technologies, we help businesses of all sizes transform their digital presence.</p>
        </div>

        <div class="about-section">
          <h3>Our Approach</h3>
          <p>We believe in a collaborative approach, working closely with our clients to understand their needs and deliver solutions that exceed expectations. Our focus on innovation and quality ensures that every project we undertake stands out in today's competitive digital landscape.</p>
        </div>
      </div>
    </div>
  </section>

  <div class="parallax-divider parallax-about"></div>

  <!-- Добавляем раздел Contact Us, который был на скриншоте -->
  <section id="contact" class="contact">
    <div class="container">
      <h2 class="section-title">Contact Us</h2>
      <p class="contact-intro">Have a project in mind? Let's talk about it.</p>

      <div class="contact-content">
        <div class="contact-info">
          <h3>Email</h3>
          <p>azamat@galimzhanov.com</p>
          <a href="mailto:azamat@galimzhanov.com" class="contact-button">Get in touch</a>
        </div>
      </div>
    </div>
  </section>
</MainLayout>

<style>
  /* Section styles */
  section {
    padding: 6rem 2rem;
    scroll-margin-top: 80px; /* Offset for fixed header */
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .section-title {
    text-align: center;
    font-size: 2.5rem;
    margin-bottom: 3rem;
    position: relative;
  }

  .section-title::after {
    content: "";
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 3px;
    background: var(--primary-color);
  }

  /* Parallax dividers */
  .parallax-divider {
    height: 300px;
    background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    position: relative;
  }

  .parallax-divider::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.4);
  }

  .parallax-services {
    background-image: url('/images/parallax1.jpg');
  }

  .parallax-projects {
    background-image: url('/images/parallax2.jpg');
  }

  .parallax-about {
    background-image: url('/images/parallax3.jpg');
  }

  /* Services section */
  .services {
    background-color: var(--light-color);
  }

  .services-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
  }

  .projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
  }

  .cta-container {
    margin-top: 3rem;
    text-align: center;
  }

  /* About section styles */
  .about {
    background-color: var(--light-color);
  }

  .about-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
  }

  .about-section h3 {
    font-size: 1.5rem;
    margin-bottom: 1rem;
    color: var(--dark-color);
  }

  .about-section p {
    line-height: 1.6;
    color: #555;
  }

  /* Contact section styles */
  .contact-intro {
    text-align: center;
    margin-bottom: 2rem;
    font-size: 1.2rem;
  }

  .contact-content {
    max-width: 600px;
    margin: 0 auto;
    text-align: center;
  }

  .contact-info h3 {
    font-size: 1.3rem;
    margin-bottom: 0.5rem;
    color: var(--dark-color);
  }

  .contact-info p {
    margin-bottom: 1.5rem;
    color: #555;
  }

  .contact-button {
    display: inline-block;
    background-color: var(--primary-color);
    color: white;
    padding: 0.8rem 2rem;
    border-radius: 4px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .contact-button:hover {
    background-color: #3178e0;
    color: white;
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  }

  /* Contact CTA section - оставляем стили на случай, если они используются в других местах */
  .contact-cta {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    text-align: center;
  }

  .contact-cta h2 {
    font-size: 2rem;
    margin-bottom: 1rem;
  }

  .contact-cta p {
    font-size: 1.2rem;
    margin-bottom: 2rem;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
  }

  /* Responsive adjustments */
  @media (max-width: 900px) {
    .about-content,
    .contact-content {
      grid-template-columns: 1fr;
    }

    .parallax-divider {
      height: 200px;
    }
  }
</style>

<script>
  // Скрипт для плавной прокрутки и выделения активного пункта меню
  document.addEventListener('DOMContentLoaded', () => {
    const anchorLinks = document.querySelectorAll('a[href^="#"]');

    anchorLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();

        const href = link.getAttribute('href') || '';
        const target = document.querySelector(href) as HTMLElement;
        if (target) {
          window.scrollTo({
            top: target.offsetTop,
            behavior: 'smooth'
          });
        }
      });
    });

    // Active navigation based on scroll position
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('.nav-links a[href^="#"]');

    function highlightActiveSection() {
      const scrollPosition = window.scrollY + 100;

      sections.forEach(section => {
        const sectionElement = section as HTMLElement;
        const sectionTop = sectionElement.offsetTop;
        const sectionHeight = sectionElement.offsetHeight;
        const sectionId = section.getAttribute('id');

        if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
          navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === `#${sectionId}`) {
              link.classList.add('active');
            }
          });
        }
      });
    }

    window.addEventListener('scroll', highlightActiveSection);
    highlightActiveSection(); // Initial check
  });
</script>